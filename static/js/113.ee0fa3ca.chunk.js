(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[113],{1184:function(e,t,a){"use strict";a.d(t,"e",(function(){return C})),a.d(t,"l",(function(){return y})),a.d(t,"k",(function(){return k})),a.d(t,"f",(function(){return I})),a.d(t,"g",(function(){return A})),a.d(t,"j",(function(){return S})),a.d(t,"h",(function(){return L})),a.d(t,"a",(function(){return D})),a.d(t,"d",(function(){return T})),a.d(t,"b",(function(){return V})),a.d(t,"i",(function(){return R})),a.d(t,"m",(function(){return M}));var n=a(27),r=a(12),c=a(16),s=a.n(c),i=a(35),l=a(19),d=a(49),o=a.n(d),u=a(52),b=a(201),j=a(11),m=a(45);var f=function(e){return e=e||{},j.a.defaults(e,{id:u.a.generateGUID(),name:"",description:"",idAttachmentCover:"",idMembers:[],idLabels:[],attachments:[],subscribed:!0,checklists:[],checkItems:0,checkItemsChecked:0,comments:[],activities:[],due:""})};var x,O=function(e){return e=e||{},j.a.defaults(e,{id:u.a.generateGUID(),name:"",idCards:[]})},h=a(14),p=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(h.a)(r,1)[0];return n.splice(a,0,c),n},v=p,g=function(e,t,a){var n=j.a.find(e,{id:t.droppableId}),r=j.a.find(e,{id:a.droppableId}),c=n.idCards[t.index];if(t.droppableId===a.droppableId){var s=p(n.idCards,t.index,a.index);return e.map((function(e){return e.id===t.droppableId&&(e.idCards=s),e}))}return n.idCards.splice(t.index,1),r.idCards.splice(a.index,0,c),e.map((function(e){return e.id===t.droppableId?n:e.id===a.droppableId?r:e}))},N=a(1245),w=a(1196),C=Object(l.b)("scrumboardApp/board/getBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,e.next=4,o.a.get("/api/scrumboard-app/board",{params:t});case 4:return r=e.sent,e.next=7,r.data;case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(1),n(Object(m.c)({message:e.t0.response.data,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),b.a.push({pathname:"/apps/scrumboard/boards"}),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),y=Object(l.b)("scrumboardApp/board/reorderList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l,d,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,c=r().scrumboardApp.board,i=c.lists,l=v(j.a.merge([],i),t.source.index,t.destination.index),e.next=6,o.a.post("/api/scrumboard-app/list/order",{boardId:c.id,lists:l});case 6:return d=e.sent,e.next=9,d.data;case 9:return u=e.sent,n(Object(m.c)({message:"List Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),k=Object(l.b)("scrumboardApp/board/reorderCard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l,d,u,b,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.source,r=t.destination,c=a.dispatch,i=a.getState,l=i().scrumboardApp.board,d=l.lists,u=g(j.a.merge([],d),n,r),e.next=7,o.a.post("/api/scrumboard-app/card/order",{boardId:l.id,lists:u});case 7:return b=e.sent,e.next=10,b.data;case 10:return f=e.sent,c(Object(m.c)({message:"Card Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),I=Object(l.b)("scrumboardApp/board/newCard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,c=t.cardTitle,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/card/new",{boardId:n,listId:r,data:f({name:c})});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(l.b)("scrumboardApp/board/newList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listTitle,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/list/new",{boardId:n,data:O({name:r})});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),S=Object(l.b)("scrumboardApp/board/renameList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,c=t.listTitle,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/list/rename",{boardId:n,listId:r,listTitle:c});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(l.b)("scrumboardApp/board/removeList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/list/remove",{boardId:n,listId:r});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),D=Object(l.b)("scrumboardApp/board/changeBoardSettings",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,n=a.getState,r=n().scrumboardApp.board,c=j.a.merge({},r.settings,t),e.next=5,o.a.post("/api/scrumboard-app/board/settings/update",{boardId:r.id,settings:c});case 5:return i=e.sent,e.next=8,i.data;case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),T=Object(l.b)("scrumboardApp/board/deleteBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,e.next=3,o.a.post("/api/scrumboard-app/board/delete",{boardId:t});case 3:return n=e.sent,b.a.push({pathname:"/apps/scrumboard/boards"}),e.next=7,n.data;case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),V=Object(l.b)("scrumboardApp/board/copyBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,a.getState,r=j.a.merge({},t,{id:u.a.generateGUID(),name:"".concat(t.name," (Copied)"),uri:"".concat(t.uri,"-copied")}),n(Object(N.c)(r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),R=Object(l.b)("scrumboardApp/board/renameBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.boardTitle,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/board/rename",{boardId:n,boardTitle:r});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),P=Object(l.d)({name:"scrumboardApp/boards",initialState:null,reducers:{resetBoard:function(e,t){return null},addLabel:function(e,t){e.labels=[].concat(Object(r.a)(e.labels),[t.payload])}},extraReducers:(x={},Object(n.a)(x,C.fulfilled,(function(e,t){return t.payload})),Object(n.a)(x,y.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(x,k.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(x,A.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(x,I.fulfilled,(function(e,t){return t.payload})),Object(n.a)(x,S.fulfilled,(function(e,t){var a=t.payload,n=a.listId,r=a.listTitle;e.lists=e.lists.map((function(e){return e.id===n&&(e.name=r),e}))})),Object(n.a)(x,L.fulfilled,(function(e,t){e.lists=j.a.reject(e.lists,{id:t.payload})})),Object(n.a)(x,D.fulfilled,(function(e,t){e.settings=t.payload})),Object(n.a)(x,T.fulfilled,(function(e,t){({})})),Object(n.a)(x,R.fulfilled,(function(e,t){e.name=t.payload})),Object(n.a)(x,w.e.fulfilled.type,(function(e,t){e.cards=e.cards.map((function(e){return e.id===t.payload.id?t.payload:e}))})),Object(n.a)(x,w.d.fulfilled,(function(e,t){var a=t.payload;e.cards=j.a.reject(e.cards,{id:a}),e.lists=e.lists.map((function(e){return j.a.set(e,"idCards",j.a.reject(e.idCards,(function(e){return e===a}))),e}))})),x)}),E=P.actions,M=E.resetBoard;E.addLabel,t.c=P.reducer},1196:function(e,t,a){"use strict";a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return f})),a.d(t,"a",(function(){return x}));var n=a(27),r=a(16),c=a.n(r),s=a(35),i=a(19),l=a(49),d=a.n(l),o=a(45),u=Object(i.b)("scrumboardApp/card/updateCard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.card,s=a.dispatch,e.next=4,d.a.post("/api/scrumboard-app/card/update",{boardId:n,card:r});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,s(Object(o.c)({message:"Card Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),b=Object(i.b)("scrumboardApp/card/removeCard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.cardId,s=a.dispatch,e.next=4,d.a.post("/api/scrumboard-app/card/remove",{boardId:n,cardId:r});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,s(x()),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),j=Object(i.d)({name:"scrumboardApp/card",initialState:{dialogOpen:!1,data:null},reducers:{openCardDialog:function(e,t){e.dialogOpen=!0,e.data=t.payload},closeCardDialog:function(e,t){e.dialogOpen=!1,e.data=null}},extraReducers:Object(n.a)({},u.fulfilled,(function(e,t){e.data=t.payload}))}),m=j.actions,f=m.openCardDialog,x=m.closeCardDialog;t.b=j.reducer},1245:function(e,t,a){"use strict";a.d(t,"b",(function(){return x})),a.d(t,"c",(function(){return O})),a.d(t,"e",(function(){return v})),a.d(t,"d",(function(){return N}));var n=a(27),r=a(16),c=a.n(r),s=a(35),i=a(19),l=a(49),d=a.n(l),o=a(201),u=a(52),b=a(11),j=[{id:"26022e4129ad3a5sc28b36cd",name:"High Priority",class:"bg-red text-white"},{id:"56027e4119ad3a5dc28b36cd",name:"Design",class:"bg-orange text-white"},{id:"5640635e19ad3a5dc21416b2",name:"App",class:"bg-blue text-white"},{id:"6540635g19ad3s5dc31412b2",name:"Feature",class:"bg-green text-white"}],m=[{id:"56027c1930450d8bf7b10758",name:"Alice Freeman",avatar:"assets/images/avatars/alice.jpg"},{id:"26027s1930450d8bf7b10828",name:"Danielle Obrien",avatar:"assets/images/avatars/danielle.jpg"},{id:"76027g1930450d8bf7b10958",name:"James Lewis",avatar:"assets/images/avatars/james.jpg"},{id:"36027j1930450d8bf7b10158",name:"John Doe",avatar:"assets/images/avatars/Velazquez.jpg"}];var f=function(e){return e=e||{},b.a.defaults(e,{name:"Untitled Board",uri:"untitled-board",id:u.a.generateGUID(),settings:{color:"",subscribed:!0,cardCoverImages:!0},lists:[],cards:[],members:m,labels:j})},x=Object(i.b)("scrumboardApp/boards/getBoards",Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/scrumboard-app/boards");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),O=Object(i.b)("scrumboardApp/boards/newBoard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,e.next=3,d.a.post("/api/scrumboard-app/board/new",{board:t||f()});case 3:return n=e.sent,e.next=6,n.data;case 6:return r=e.sent,o.a.push({pathname:"/apps/scrumboard/boards/".concat(r.id,"/").concat(r.handle)}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),h=Object(i.c)({}),p=h.getSelectors((function(e){return e.scrumboardApp.boards})),v=p.selectAll,g=(p.selectById,Object(i.d)({name:"scrumboardApp/boards",initialState:h.getInitialState({}),reducers:{resetBoards:function(e,t){}},extraReducers:Object(n.a)({},x.fulfilled,h.setAll)})),N=g.actions.resetBoards;t.a=g.reducer},1316:function(e,t,a){"use strict";var n=a(110),r=a(1184),c=a(1245),s=a(1196),i=Object(n.c)({boards:c.a,board:r.c,card:s.b});t.a=i},2638:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(1098),c=a(1095),s=a(1118),i=a(1088),l=a(1031),d=a(616),o=a(1122),u=a(1099),b=a(134),j=a(3),m=a(0),f=a(1356),x=a(7),O=a(48),h=a(32),p=a(98),v=a(1316),g=a(1184),N=a(6),w=a(36),C=a(132),y=a(1106),k=a(571),I=a(1112),A=a(66),S=a(1094),L=a(59),D=a(11),T=a(1),V=Object(d.a)((function(e){return{card:{backgroundColor:Object(A.darken)(e.palette.background.paper,"light"===e.palette.type?.02:.25)}}})),R={title:""},P=L.d().shape({title:L.f().required("You must enter a title")});var E=function(e){var t=Object(x.c)(),a=Object(x.d)((function(e){return e.scrumboardApp.board})),r=V(e),s=Object(m.useState)(!1),d=Object(n.a)(s,2),o=d[0],u=d[1],b=Object(w.f)({mode:"onChange",defaultValues:R,resolver:Object(C.a)(P)}),f=b.control,O=b.formState,h=b.handleSubmit,p=b.reset,v=O.isValid,A=O.dirtyFields;function L(){u(!1)}return O.errors,Object(m.useEffect)((function(){o||p(R)}),[o,p]),Object(T.jsx)("div",{children:Object(T.jsx)(y.a,{className:Object(j.a)(r.card,"w-320 mx-8 sm:mx-12 rounded-20 shadow"),square:!0,children:o?Object(T.jsx)(k.a,{onClickAway:L,children:Object(T.jsxs)("form",{className:"p-16",onSubmit:h((function(e){t(Object(g.g)({boardId:a.id,listTitle:e.title})),L()})),children:[Object(T.jsx)(w.a,{name:"title",control:f,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"List title",autoFocus:!0,InputProps:{endAdornment:Object(T.jsx)(I.a,{position:"end",children:Object(T.jsx)(l.a,{onClick:L,children:Object(T.jsx)(i.a,{className:"text-18",children:"close"})})})}}))}}),Object(T.jsx)("div",{className:"flex justify-between items-center",children:Object(T.jsx)(c.a,{variant:"contained",color:"secondary",type:"submit",disabled:D.a.isEmpty(A)||!v,children:"Add"})})]})}):Object(T.jsxs)(c.a,{onClick:function(e){e.stopPropagation(),u(!0)},classes:{root:"font-medium w-full rounded-none h-64 px-16",label:"justify-start"},children:[Object(T.jsx)(i.a,{className:"text-32 text-red",children:"add_circle"}),Object(T.jsx)("span",{className:"mx-8",children:"Add a list"})]})})})},M=a(1302),B=a(1113),_=a(2468),F={title:""},q=L.d().shape({title:L.f().required("You must enter a title")});var z=function(e){var t=Object(x.c)(),a=Object(x.d)((function(e){return e.scrumboardApp.board})),r=Object(m.useState)(!1),s=Object(n.a)(r,2),d=s[0],o=s[1],u=Object(w.f)({mode:"onChange",defaultValues:F,resolver:Object(C.a)(q)}),b=u.control,j=u.formState,f=u.handleSubmit,O=u.reset,h=j.isValid,p=j.dirtyFields;function v(){o(!1)}return j.errors,Object(m.useEffect)((function(){d||O(F)}),[d,O]),Object(T.jsx)("div",{className:"w-full border-t-1",children:d?Object(T.jsx)(k.a,{onClickAway:v,children:Object(T.jsxs)("form",{className:"p-16",onSubmit:f((function(n){t(Object(g.f)({boardId:a.id,listId:e.listId,cardTitle:n.title})).then((function(){e.onCardAdded()})),v()})),children:[Object(T.jsx)(w.a,{name:"title",control:b,render:function(e){var t=e.field;return Object(T.jsx)(S.a,{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"Card title",autoFocus:!0,InputProps:Object(N.a)(Object(N.a)({},t),{},{endAdornment:Object(T.jsx)(I.a,{position:"end",children:Object(T.jsx)(l.a,{onClick:v,children:Object(T.jsx)(i.a,{className:"text-18",children:"close"})})})})})}}),Object(T.jsx)("div",{className:"flex justify-between items-center",children:Object(T.jsx)(c.a,{variant:"contained",color:"secondary",type:"submit",disabled:D.a.isEmpty(p)||!h,children:"Add"})})]})}):Object(T.jsxs)(c.a,{onClick:function(e){e.stopPropagation(),o(!0)},classes:{root:"font-medium w-full px-16 rounded-none h-48",label:"justify-start"},children:[Object(T.jsx)(i.a,{className:"text-20",children:"add"}),Object(T.jsx)("span",{className:"mx-8",children:"Add a card"})]})})},H=a(1121),U=a(1096),Y=a(193),G=a(164),W=a.n(G),J=a(1257),K=a.n(J),Q=a(55),X=a.n(Q),Z=a(1196),$=Object(d.a)((function(e){return{card:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut}}}));var ee=function(e){var t,a=Object(x.c)(),n=Object(x.d)((function(e){return e.scrumboardApp.board})),r=$(e),c=e.cardId,s=e.index,l=D.a.find(n.cards,{id:c}),d=(t=l,D.a.sum(t.checklists.map((function(e){return D.a.sum(e.checkItems.map((function(e){return e.checked?1:0})))})))),o=function(e){return D.a.sum(e.checklists.map((function(e){return e.checkItems.length})))}(l),u=function(e){return D.a.sum(e.activities.map((function(e){return"comment"===e.type?1:0})))}(l);return Object(T.jsx)(f.b,{draggableId:c,index:s,type:"card",children:function(e,t){return Object(T.jsx)("div",Object(N.a)(Object(N.a)(Object(N.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(T.jsxs)(y.a,{className:Object(j.a)(r.card,t.isDragging?"shadow-lg":"shadow-0","w-full mb-16 rounded-16 cursor-pointer border-1"),onClick:function(e){return function(e,t){e.preventDefault(),a(Object(Z.c)(t))}(e,l)},children:[n.settings.cardCoverImages&&""!==l.idAttachmentCover&&Object(T.jsx)("img",{className:"block",src:D.a.find(l.attachments,{id:l.idAttachmentCover}).src,alt:"card cover"}),Object(T.jsxs)("div",{className:"p-16 pb-0",children:[l.idLabels.length>0&&Object(T.jsx)("div",{className:"flex flex-wrap mb-8 -mx-4",children:l.idLabels.map((function(e){var t=D.a.find(n.labels,{id:e});return Object(T.jsx)(U.a,{title:t.name,children:Object(T.jsx)("div",{className:Object(j.a)(t.class,"w-32  h-6 rounded-6 mx-4 mb-6")})},e)}))}),Object(T.jsx)(Y.a,{className:"font-medium mb-12",children:l.name}),(l.due||o>0)&&Object(T.jsxs)("div",{className:"flex items-center mb-12 -mx-4",children:[l.due&&Object(T.jsxs)("div",{className:Object(j.a)("flex items-center px-8 py-4 mx-4 rounded-16",X()(new Date)>l.due?"bg-red text-white":"bg-green text-white"),children:[Object(T.jsx)(i.a,{className:"text-16",children:"access_time"}),Object(T.jsx)("span",{className:"mx-4",children:W()(K()(l.due),"MMM do yy")})]}),o>0&&Object(T.jsxs)("div",{className:Object(j.a)("flex items-center px-8 py-4 mx-4 rounded-16",d===o?"bg-green text-white":"bg-grey-700 text-white"),children:[Object(T.jsx)(i.a,{className:"text-16",children:"check_circle"}),Object(T.jsx)("span",{className:"mx-4",children:"".concat(d,"/").concat(o)})]})]}),l.idMembers.length>0&&Object(T.jsxs)("div",{className:"flex flex-wrap mb-12 -mx-4",children:[l.idMembers.map((function(e){var t=D.a.find(n.members,{id:e});return Object(T.jsx)(U.a,{title:t.name,children:Object(T.jsx)(H.a,{className:"mx-4 w-32 h-32",src:t.avatar})},e)})),Object(T.jsx)("div",{})]})]}),Object(T.jsxs)("div",{className:"flex justify-between h-48 px-16 border-t-1",children:[Object(T.jsxs)("div",{className:"flex items-center -mx-6",children:[l.subscribed&&Object(T.jsx)(i.a,{className:"text-18 mx-6",color:"action",children:"remove_red_eye"}),""!==l.description&&Object(T.jsx)(i.a,{className:"text-18 mx-6",color:"action",children:"description"})]}),Object(T.jsxs)("div",{className:"flex items-center justify-end -mx-6",children:[l.attachments&&Object(T.jsxs)("span",{className:"flex items-center mx-6",children:[Object(T.jsx)(i.a,{className:"text-18",color:"action",children:"attachment"}),Object(T.jsx)(Y.a,{className:"mx-8",color:"textSecondary",children:l.attachments.length})]}),u>0&&Object(T.jsxs)("span",{className:"flex items-center mx-6",children:[Object(T.jsx)(i.a,{className:"text-18",color:"action",children:"comment"}),Object(T.jsx)(Y.a,{className:"mx-8",color:"textSecondary",children:u})]})]})]})]})}))}})},te=a(1109),ae=a(1101),ne=a(544),re=a(1090),ce=L.d().shape({title:L.f().required("You must enter a title")});var se=function(e){var t=Object(x.c)(),a=Object(x.d)((function(e){return e.scrumboardApp.board})),r=Object(m.useState)(null),c=Object(n.a)(r,2),s=c[0],d=c[1],o=Object(m.useState)(!1),u=Object(n.a)(o,2),b=u[0],j=u[1],f=Object(w.f)({mode:"onChange",defaultValues:{title:e.list.name},resolver:Object(C.a)(ce)}),O=f.control,h=f.formState,p=f.handleSubmit,v=f.reset,y=h.isValid,A=h.dirtyFields;function L(e){e.stopPropagation(),j(!0)}function V(){j(!1)}return h.errors,Object(m.useEffect)((function(){b||v({title:e.list.name})}),[b,v,e.list.name]),Object(m.useEffect)((function(){b&&s&&d(null)}),[s,b]),Object(T.jsx)("div",Object(N.a)(Object(N.a)({},e.handleProps),{},{children:Object(T.jsxs)("div",{className:"flex items-center justify-between h-48 sm:h-64 px-8",children:[Object(T.jsx)("div",{className:"flex items-center min-w-0 px-12",children:b?Object(T.jsx)(k.a,{onClickAway:V,children:Object(T.jsx)("form",{className:"flex w-full",onSubmit:p((function(n){t(Object(g.j)({boardId:a.id,listId:e.list.id,listTitle:n.title})),V()})),children:Object(T.jsx)(w.a,{name:"title",control:O,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"outlined",margin:"none",autoFocus:!0,InputProps:{endAdornment:Object(T.jsx)(I.a,{position:"end",children:Object(T.jsx)(l.a,{type:"submit",disabled:D.a.isEmpty(A)||!y,children:Object(T.jsx)(i.a,{children:"check"})})})}}))}})})}):Object(T.jsx)(Y.a,{className:"text-16 font-medium cursor-pointer",onClick:L,children:e.list.name})}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsx)(l.a,{"aria-owns":s?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},variant:"outlined",size:"small",children:Object(T.jsx)(i.a,{className:"text-20",children:"more_vert"})}),Object(T.jsxs)(ne.a,{id:"actions-menu",anchorEl:s,open:Boolean(s),onClose:function(){d(null)},children:[Object(T.jsxs)(re.a,{onClick:function(){t(Object(g.h)({boardId:a.id,listId:e.list.id}))},children:[Object(T.jsx)(te.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"delete"})}),Object(T.jsx)(ae.a,{primary:"Remove List"})]}),Object(T.jsxs)(re.a,{onClick:L,children:[Object(T.jsx)(te.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"edit"})}),Object(T.jsx)(ae.a,{primary:"Rename List"})]})]})]})]})}))},ie=Object(d.a)((function(e){return{list:{backgroundColor:Object(A.darken)(e.palette.background.paper,"light"===e.palette.type?.02:.25),transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut}}}));var le=function(e){var t=ie(e),a=Object(m.useRef)(null);function n(){a.current.scrollTop=a.current.scrollHeight}return Object(T.jsx)(f.b,{draggableId:e.list.id,index:e.index,type:"list",children:function(r,c){return Object(T.jsx)("div",Object(N.a)(Object(N.a)({ref:r.innerRef},r.draggableProps),{},{children:Object(T.jsxs)(y.a,{className:Object(j.a)(t.list,c.isDragging?"shadow-lg":"shadow","w-256 sm:w-320 mx-8 sm:mx-12 max-h-full flex flex-col rounded-20"),square:!0,children:[Object(T.jsx)(se,{list:e.list,className:"border-b-1",handleProps:r.dragHandleProps}),Object(T.jsx)(_.a,{rootRef:a,children:Object(T.jsx)(B.a,{className:"flex flex-col flex-1 flex-auto h-full min-h-0 w-full p-0 overflow-auto",children:Object(T.jsx)(f.c,{droppableId:e.list.id,type:"card",direction:"vertical",children:function(t){return Object(T.jsxs)("div",{ref:t.innerRef,className:"flex flex-col w-full h-full p-16",children:[e.list.idCards.map((function(t,a){return Object(T.jsx)(ee,{cardId:t,index:a,list:e.list},t)})),t.placeholder]})}})})}),Object(T.jsx)(M.a,{className:"p-0 flex-shrink-0",children:Object(T.jsx)(z,{listId:e.list.id,onCardAdded:n})})]})}))}})},de=a(192),oe=L.d().shape({title:L.f().required("You must enter a title")});var ue=function(e){var t=Object(x.c)(),a=Object(x.d)((function(e){return e.scrumboardApp.board})),r=Object(m.useState)(!1),c=Object(n.a)(r,2),s=c[0],d=c[1],o=Object(w.f)({mode:"onChange",defaultValues:{title:a.name},resolver:Object(C.a)(oe)}),u=o.control,b=o.formState,j=o.handleSubmit,f=o.reset,O=b.isValid,h=b.dirtyFields;function p(){d(!1)}return b.errors,Object(m.useEffect)((function(){s||f({title:a.name})}),[s,f,a.name]),Object(T.jsx)("div",{className:"flex items-center min-w-0",children:s?Object(T.jsx)(k.a,{onClickAway:p,children:Object(T.jsx)(de.a,{children:Object(T.jsx)("form",{className:"flex w-full",onSubmit:j((function(e){t(Object(g.i)({boardId:a.id,boardTitle:e.title})),p()})),children:Object(T.jsx)(w.a,{name:"title",control:u,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"filled",margin:"none",autoFocus:!0,hiddenLabel:!0,InputProps:{endAdornment:Object(T.jsx)(I.a,{position:"end",children:Object(T.jsx)(l.a,{type:"submit",disabled:D.a.isEmpty(h)||!O,children:Object(T.jsx)(i.a,{children:"check"})})})}}))}})})})}):Object(T.jsxs)("div",{className:"flex items-center justify-center",children:[a.settings.subscribed&&Object(T.jsx)(i.a,{className:"text-16",children:"remove_red_eye"}),Object(T.jsx)(Y.a,{className:"text-14 sm:text-18 font-medium cursor-pointer mx-8",onClick:function(e){e.stopPropagation(),d(!0)},color:"inherit",children:a.name})]})})},be=a(1083),je=a(12),me=a(1303),fe=a(1185),xe=a(1187),Oe=a(1240),he=a(1036),pe=a(2658),ve=a(1037),ge=a(402),Ne=a.n(ge),we=Object(d.a)((function(e){return{commentBubble:{borderRadius:"5px 20px 20px 5px",border:"1px solid ".concat(e.palette.divider)}}}));var Ce=function(e){var t=we(e),a=D.a.find(e.members,{id:e.item.idMember});switch(e.item.type){case"comment":return Object(T.jsxs)(ve.a,{dense:!0,className:"px-0",children:[Object(T.jsx)(H.a,{alt:a.name,src:a.avatar,className:"w-32 h-32"}),Object(T.jsxs)("div",{className:Object(j.a)(t.commentBubble,"flex flex-col mx-16 p-12"),children:[Object(T.jsxs)("div",{className:"flex items-center",children:[Object(T.jsx)(Y.a,{children:a.name}),Object(T.jsx)(Y.a,{className:"mx-8 text-12",color:"textSecondary",children:Ne()(K()(e.item.time),{addSuffix:!0})})]}),Object(T.jsx)(Y.a,{children:e.item.message})]})]});case"attachment":return Object(T.jsxs)(ve.a,{dense:!0,className:"px-0",children:[Object(T.jsx)(H.a,{alt:a.name,src:a.avatar,className:"w-32 h-32"}),Object(T.jsxs)("div",{className:"flex items-center mx-16",children:[Object(T.jsxs)(Y.a,{children:[a.name,","]}),Object(T.jsx)(Y.a,{className:"mx-8",children:e.item.message}),Object(T.jsx)(Y.a,{className:"text-12",color:"textSecondary",children:Ne()(K()(e.item.time),{addSuffix:!0})})]})]});default:return null}};var ye=function(e){var t=Object(m.useState)(null),a=Object(n.a)(t,2),r=a[0],s=a[1];function l(e){s(e.currentTarget)}function d(){s(null)}switch(e.item.type){case"image":return Object(T.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[Object(T.jsx)("div",{className:"flex items-center justify-center min-w-128 w-128 h-128",children:Object(T.jsx)(de.a,{className:"overflow-hidden shadow",children:Object(T.jsx)("img",{className:"block max-h-full max-h-full",src:e.item.src,alt:"attachment"})})}),Object(T.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[Object(T.jsxs)("div",{className:"flex items-center w-full",children:[Object(T.jsx)(Y.a,{className:"text-16 font-semibold truncate flex-shrink",children:e.item.name}),e.card.idAttachmentCover===e.item.id&&Object(T.jsx)(i.a,{className:"text-orange-300 text-20 mx-4",children:"star"})]}),Object(T.jsx)(Y.a,{className:"truncate w-full mb-12",color:"textSecondary",children:W()(K()(e.item.time),"Pp")}),Object(T.jsxs)(c.a,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:l,variant:"outlined",size:"small",children:["Actions",Object(T.jsx)(i.a,{className:"text-20",children:"arrow_drop_down"})]}),Object(T.jsxs)(ne.a,{id:"actions-menu",anchorEl:r,open:Boolean(r),onClose:d,children:[e.card.idAttachmentCover!==e.item.id?Object(T.jsx)(re.a,{onClick:function(){d(),e.makeCover(e.item.id)},children:"Make Cover"}):Object(T.jsx)(re.a,{onClick:function(){d(),e.removeCover()},children:"Remove Cover"}),Object(T.jsx)(re.a,{onClick:function(){d(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})]})]})]},e.item.id);case"link":return Object(T.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[Object(T.jsx)(de.a,{className:"min-w-128 w-128 h-128 flex items-center justify-center rounded-4 overflow-hidden shadow",children:Object(T.jsx)(Y.a,{className:"font-semibold",children:"LINK"})}),Object(T.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[Object(T.jsx)(Y.a,{className:"text-16 font-semibold truncate w-full",children:e.item.url}),Object(T.jsx)(Y.a,{className:"truncate w-full mb-12",color:"textSecondary",children:e.item.time}),Object(T.jsxs)(c.a,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:l,variant:"outlined",size:"small",children:["Actions",Object(T.jsx)(i.a,{className:"text-20",children:"arrow_drop_down"})]}),Object(T.jsx)(ne.a,{id:"simple-menu",anchorEl:r,open:Boolean(r),onClose:d,children:Object(T.jsx)(re.a,{onClick:function(){d(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})})]})]},e.item.id);default:return null}},ke=a(1089),Ie=a(1100),Ae=a(52);var Se=function(e){return e=e||{},D.a.defaults(e,{id:Ae.a.generateGUID(),name:"",checked:!1})},Le=L.d().shape({name:L.f().required("You must enter a title")});var De=function(e){var t=Object(w.f)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(C.a)(Le)}),a=t.control,n=t.formState,r=t.handleSubmit,c=t.reset,s=n.isValid,l=n.dirtyFields;return n.errors,Object(T.jsx)("form",{onSubmit:r((function(t){e.onListItemAdd(Se(t)),c({name:e.name})})),children:Object(T.jsxs)(ve.a,{className:"px-0",dense:!0,children:[Object(T.jsx)("span",{className:"w-40"}),Object(T.jsx)(w.a,{name:"name",control:a,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"flex flex-1 mx-8",name:"name",variant:"outlined",placeholder:"Add an item"}))}}),Object(T.jsx)(Ie.a,{className:"mx-4","aria-label":"Add",size:"small",color:"secondary",type:"submit",disabled:D.a.isEmpty(l)||!s,children:Object(T.jsx)(i.a,{children:"add"})})]})})},Te=a(1159);var Ve=function(e){var t=e.item,a=e.onListItemChange,n=e.index,r=Object(w.f)({mode:"onChange",defaultValues:t}),c=r.control,s=(0,r.watch)();return Object(m.useEffect)((function(){var e=Object(N.a)(Object(N.a)({},t),s);D.a.isEqual(t,e)||a(e,n)}),[s,n,a,t]),Object(T.jsxs)(ve.a,{className:"px-0",dense:!0,children:[Object(T.jsx)(w.a,{name:"checked",control:c,defaultValue:!1,render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(T.jsx)(Te.a,{tabIndex:-1,checked:n,onChange:function(e){return a(e.target.checked)},disableRipple:!0})}}),Object(T.jsx)(w.a,{name:"name",control:c,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"flex flex-1 mx-8",variant:"outlined"}))}}),Object(T.jsx)(l.a,{"aria-label":"Delete",onClick:e.onListItemRemove,children:Object(T.jsx)(i.a,{children:"delete"})})]},t.id)},Re=L.d().shape({name:L.f().required("You must enter a title")}),Pe=Object(m.forwardRef)((function(e,t){var a=Object(m.useState)(!1),r=Object(n.a)(a,2),c=r[0],s=r[1],d=Object(w.f)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(C.a)(Re)}),o=d.control,u=d.formState,b=d.handleSubmit,j=d.reset,f=u.isValid,x=u.dirtyFields;u.errors;function O(e){e.stopPropagation(),s(!0)}function h(){s(!1)}return Object(m.useEffect)((function(){c||j({name:e.name})}),[c,j,e.name]),Object(m.useImperativeHandle)(t,(function(){return{openForm:O}})),c?Object(T.jsx)(k.a,{onClickAway:h,children:Object(T.jsx)("form",{onSubmit:b((function(t){e.onNameChange(t.name),h()})),children:Object(T.jsx)(w.a,{name:"name",control:o,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"outlined",margin:"dense",autoFocus:!0,InputProps:{endAdornment:Object(T.jsx)(I.a,{position:"end",children:Object(T.jsx)(l.a,{type:"submit",disabled:D.a.isEmpty(x)||!f,children:Object(T.jsx)(i.a,{children:"check"})})})}}))}})})}):Object(T.jsx)(Y.a,{className:"text-16 font-semibold cursor-pointer mx-8",onClick:O,children:e.name})}));var Ee=function(e){var t=e.onCheckListChange,a=e.checklist,r=e.index,c=Object(m.useState)(null),s=Object(n.a)(c,2),d=s[0],o=s[1],u=Object(m.useRef)(),b=Object(w.f)({mode:"onChange",defaultValues:a}),j=b.watch,f=b.control,x=j();function O(){o(null)}function h(){return D.a.sum(x.checkItems.map((function(e){return e.checked?1:0})))}return Object(m.useEffect)((function(){var e=Object(N.a)(Object(N.a)({},a),x);D.a.isEqual(e,a)||t(e,r)}),[x,r,t,a]),x?Object(T.jsxs)("div",{className:"mb-24",children:[Object(T.jsxs)("div",{className:"flex items-center justify-between mt-16 mb-12",children:[Object(T.jsxs)("div",{className:"flex items-center",children:[Object(T.jsx)(i.a,{className:"text-20",children:"check_box"}),Object(T.jsx)(w.a,{name:"name",control:f,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(T.jsx)(Pe,{name:n,onNameChange:function(e){return a(e)},ref:u})}})]}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsx)(l.a,{"aria-owns":d?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},variant:"outlined",size:"small",children:Object(T.jsx)(i.a,{className:"text-20",children:"more_vert"})}),Object(T.jsxs)(ne.a,{id:"actions-menu",anchorEl:d,open:Boolean(d),onClose:O,children:[Object(T.jsxs)(re.a,{onClick:e.onRemoveCheckList,children:[Object(T.jsx)(te.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"delete"})}),Object(T.jsx)(ae.a,{primary:"Remove Checklist"})]}),Object(T.jsxs)(re.a,{onClick:function(e){O(),u.current.openForm(e)},children:[Object(T.jsx)(te.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"edit"})}),Object(T.jsx)(ae.a,{primary:"Rename Checklist"})]})]})]})]}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsxs)("div",{className:"flex items-center -mx-6",children:[Object(T.jsx)(Y.a,{className:"flex font-semibold mx-6",children:"".concat(h()," / ").concat(x.checkItems.length)}),Object(T.jsx)(ke.a,{className:"flex flex-1 mx-6",variant:"determinate",color:"secondary",value:100*h()/x.checkItems.length})]}),Object(T.jsx)(w.a,{name:"checkItems",control:f,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(T.jsxs)(he.a,{className:"",children:[n.map((function(e,t){return Object(T.jsx)(Ve,{item:e,index:t,onListItemChange:function(e,t){a(D.a.setIn(n,"[".concat(t,"]"),e))},onListItemRemove:function(){a(D.a.reject(n,{id:e.id}))}},e.id)})),Object(T.jsx)(De,{onListItemAdd:function(e){return a([].concat(Object(je.a)(n),[e]))}})]})}})]})]}):null};var Me=function(e){return e=e||{},D.a.defaults(e,{id:Ae.a.generateGUID(),type:"comment",idMember:null,message:"",time:X()(new Date)})},Be=L.d().shape({message:L.f().required("You must enter a comment")});var _e=function(e){var t={idMember:"36027j1930450d8bf7b10158",message:""},a=Object(w.f)({mode:"onChange",defaultValues:t,resolver:Object(C.a)(Be)}),n=a.control,r=a.formState,s=a.handleSubmit,i=a.reset,l=r.isValid,d=r.dirtyFields,o=r.errors,u=D.a.find(e.members,{id:t.idMember});return Object(T.jsxs)("form",{onSubmit:s((function(a){e.onCommentAdd(Me(Object(N.a)(Object(N.a)({},t),a))),i(t)})),className:"flex -mx-8",children:[Object(T.jsx)(H.a,{className:"w-32 h-32 mx-8",alt:u.name,src:u.avatar}),Object(T.jsxs)("div",{className:"flex flex-col items-start flex-1 mx-8",children:[Object(T.jsx)(w.a,{name:"message",control:n,render:function(e){var t,a=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},a),{},{className:"flex flex-1",fullWidth:!0,error:!!o.message,helperText:null===o||void 0===o||null===(t=o.message)||void 0===t?void 0:t.message,row:3,variant:"outlined",label:"Add comment",placeholder:"Write a comment..."}))}}),Object(T.jsx)(c.a,{className:"mt-16","aria-label":"save",variant:"contained",color:"secondary",type:"submit",size:"small",disabled:D.a.isEmpty(d)||!l,children:"Save"})]})]})};var Fe=function(e){return e=e||{},D.a.defaults(e,{id:Ae.a.generateGUID(),name:"",checkItems:[]})},qe=a(1034);var ze=function(e){return Object(T.jsx)(qe.a,{open:Boolean(e.state),anchorEl:e.state,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsx)(T.Fragment,{children:e.children})})},He=L.d().shape({name:L.f().required("You must enter a title")});var Ue=function(e){var t=Object(m.useState)(null),a=Object(n.a)(t,2),r=a[0],s=a[1],d=Object(w.f)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(C.a)(He)}),o=d.control,u=d.formState,b=d.handleSubmit,j=d.reset,f=u.isValid,x=u.dirtyFields,O=u.errors;function h(){s(null)}return Object(m.useEffect)((function(){r||j({name:e.name})}),[r,j,e.name]),Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){s(e.currentTarget)},children:Object(T.jsx)(i.a,{children:"check_box"})}),Object(T.jsx)(ze,{state:r,onClose:h,children:Object(T.jsxs)("form",{onSubmit:b((function(t){e.onAddCheckList(Fe(t)),h()})),className:"p-16 flex flex-col items-end",children:[Object(T.jsx)(w.a,{name:"name",control:o,render:function(e){var t,a=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},a),{},{label:"Checklist title",error:!!O.name,helperText:null===O||void 0===O||null===(t=O.name)||void 0===t?void 0:t.message,fullWidth:!0,className:"mb-12",variant:"outlined",required:!0,autoFocus:!0}))}}),Object(T.jsx)(c.a,{color:"secondary",type:"submit",disabled:D.a.isEmpty(x)||!f,variant:"contained",children:"Add"})]})})]})};var Ye=function(e){var t=Object(m.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1],s=e.due?W()(K()(e.due),"Pp"):W()(new Date,"Pp");function d(){c(null)}return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},children:Object(T.jsx)(i.a,{children:"today"})}),Object(T.jsx)(ze,{state:r,onClose:d,children:Object(T.jsx)("div",{className:"p-16 max-w-192",children:e.due?Object(T.jsx)(re.a,{onClick:function(t){e.onRemoveDue(),d()},children:"Remove Due Date"}):Object(T.jsx)(me.a,{label:"Due date",inputVariant:"outlined",value:s,format:"Pp",onChange:function(t,a){e.onDueChange(X()(t)),d()},placeholder:"Choose a due date",className:"w-full"})})})]})};var Ge=function(e){var t=Object(m.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},children:Object(T.jsx)(i.a,{children:"label"})}),Object(T.jsx)(ze,{state:r,onClose:function(){c(null)},children:Object(T.jsx)("div",{className:"",children:e.labels.map((function(t){return Object(T.jsxs)(re.a,{className:"px-8",onClick:function(a){e.onToggleLabel(t.id)},children:[Object(T.jsx)(Te.a,{checked:e.idLabels.includes(t.id)}),Object(T.jsx)(ae.a,{className:"mx-8",children:t.name}),Object(T.jsx)(te.a,{className:"min-w-24",children:Object(T.jsx)(i.a,{children:"label"})})]},t.id)}))})})]})};var We=function(e){var t=Object(m.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},children:Object(T.jsx)(i.a,{children:"account_circle"})}),Object(T.jsx)(ze,{state:r,onClose:function(){c(null)},children:Object(T.jsx)("div",{className:"",children:e.members.map((function(t){return Object(T.jsxs)(re.a,{className:"px-8",onClick:function(a){e.onToggleMember(t.id)},children:[Object(T.jsx)(Te.a,{checked:e.idMembers.includes(t.id)}),Object(T.jsx)(H.a,{className:"w-32 h-32",src:t.avatar}),Object(T.jsx)(ae.a,{className:"mx-8",children:t.name})]},t.id)}))})})]})};var Je=function(e){var t=Object(m.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},children:Object(T.jsx)(i.a,{children:"more_horiz"})}),Object(T.jsx)(ze,{state:r,onClose:function(){c(null)},children:Object(T.jsx)(re.a,{onClick:e.onRemoveCard,children:"Remove Card"})})]})};var Ke=function(e){var t=Object(x.c)(),a=Object(x.d)((function(e){return e.scrumboardApp.card.data})),n=Object(x.d)((function(e){return e.scrumboardApp.board})),c=Object(w.f)({mode:"onChange",defaultValues:a}),s=c.register,d=c.watch,o=c.control,b=c.setValue,f=d(),O=Object(p.a)((function(e,a){t(Object(Z.e)({boardId:e,card:Object(N.a)({},a)}))}),600),h=a?D.a.find(n.lists,(function(e){return e.idCards.includes(a.id)})):null;return Object(m.useEffect)((function(){if(a){var e=Object(N.a)(Object(N.a)({},a),f);D.a.isEqual(e,a)||O(n.id,e)}}),[n.id,a,f,O]),Object(m.useEffect)((function(){s("idAttachmentCover")}),[s]),a?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Oe.a,{component:"div",className:"p-0",children:Object(T.jsx)(r.a,{position:"static",elevation:0,children:Object(T.jsxs)(u.a,{className:"flex w-full overflow-x-auto px-8 sm:px-16",children:[Object(T.jsxs)("div",{className:"flex flex-1",children:[Object(T.jsx)(w.a,{name:"due",control:o,defaultValue:null,render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(T.jsx)(Ye,{onDueChange:a,onRemoveDue:function(){return a(null)},due:n})}}),Object(T.jsx)(w.a,{name:"idLabels",control:o,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,r=t.value;return Object(T.jsx)(Ge,{onToggleLabel:function(e){return a(D.a.xor(r,[e]))},labels:n.labels,idLabels:r})}}),Object(T.jsx)(w.a,{name:"idMembers",control:o,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,r=t.value;return Object(T.jsx)(We,{onToggleMember:function(e){return a(D.a.xor(r,[e]))},members:n.members,idMembers:r})}}),Object(T.jsx)(w.a,{name:"attachments",control:o,defaultValue:[],render:function(e){var t=e.field;t.onChange,t.value;return Object(T.jsx)(l.a,{color:"inherit",children:Object(T.jsx)(i.a,{children:"attachment"})})}}),Object(T.jsx)(w.a,{name:"checklists",control:o,defaultValue:[],render:function(e){var t=e.field,a=t.onChange;t.value;return Object(T.jsx)(Ue,{onAddCheckList:function(e){return a([].concat(Object(je.a)(f.checklists),[e]))}})}}),Object(T.jsx)(Je,{onRemoveCard:function(){return t(Object(Z.d)({boardId:n.id,cardId:f.id}))}})]}),Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){return t(Object(Z.a)())},children:Object(T.jsx)(i.a,{children:"close"})})]})})}),Object(T.jsxs)(xe.a,{className:"p-16 sm:p-24",children:[Object(T.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between justify-center items-center mb-24",children:[Object(T.jsxs)("div",{className:"mb-16 sm:mb-0 flex items-center",children:[Object(T.jsx)(Y.a,{children:n.name}),Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"chevron_right"}),Object(T.jsx)(Y.a,{children:h&&h.name})]}),f.due&&Object(T.jsx)(me.a,{label:"Due date",inputVariant:"outlined",value:W()(K()(f.due),"Pp"),format:"Pp",onChange:function(e){return b("due",X()(e))},placeholder:"Choose a due date",className:"w-full sm:w-auto"})]}),Object(T.jsx)("div",{className:"flex items-center mb-24",children:Object(T.jsx)(w.a,{name:"name",control:o,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{label:"Title",type:"text",variant:"outlined",fullWidth:!0,required:!0,InputProps:{endAdornment:Object(T.jsx)(I.a,{position:"end",children:a.subscribed&&Object(T.jsx)(i.a,{className:"text-20",color:"action",children:"remove_red_eye"})})}}))}})}),Object(T.jsx)("div",{className:"w-full mb-24",children:Object(T.jsx)(w.a,{name:"description",control:o,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{label:"Description",multiline:!0,rows:"4",variant:"outlined",fullWidth:!0}))}})}),Object(T.jsxs)("div",{className:"flex flex-col sm:flex-row -mx-8",children:[f.idLabels&&f.idLabels.length>0&&Object(T.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"label"}),Object(T.jsx)(Y.a,{className:"font-semibold text-16 mx-8",children:"Labels"})]}),Object(T.jsx)(pe.a,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:n.labels,getOptionLabel:function(e){return e.name},value:f.idLabels.map((function(e){return D.a.find(n.labels,{id:e})})),onChange:function(e,t){b("idLabels",t.map((function(e){return e.id})))},renderTags:function(e,t){return e.map((function(e,a){return Object(T.jsx)(fe.a,Object(N.a)(Object(N.a)({label:e.name},t({index:a})),{},{className:Object(j.a)("m-3",e.class)}))}))},renderInput:function(e){return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},e),{},{placeholder:"Select multiple Labels",label:"Labels",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]}),f.idMembers&&f.idMembers.length>0&&Object(T.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"supervisor_account"}),Object(T.jsx)(Y.a,{className:"font-semibold text-16 mx-8",children:"Members"})]}),Object(T.jsx)(pe.a,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:n.members,getOptionLabel:function(e){return e.name},value:f.idMembers.map((function(e){return D.a.find(n.members,{id:e})})),onChange:function(e,t){b("idMembers",t.map((function(e){return e.id})))},renderTags:function(e,t){return e.map((function(e,a){return Object(T.jsx)(fe.a,Object(N.a)(Object(N.a)({label:e.name},t({index:a})),{},{className:Object(j.a)("m-3",e.class),avatar:Object(T.jsx)(U.a,{title:e.name,children:Object(T.jsx)(H.a,{src:e.avatar})})}))}))},renderInput:function(e){return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},e),{},{placeholder:"Select multiple Members",label:"Members",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]})]}),f.attachments&&f.attachments.length>0&&Object(T.jsxs)("div",{className:"mb-24",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"attachment"}),Object(T.jsx)(Y.a,{className:"font-semibold text-16 mx-8",children:"Attachments"})]}),Object(T.jsx)("div",{className:"flex flex-col sm:flex-row flex-wrap -mx-16",children:f.attachments.map((function(e){return Object(T.jsx)(ye,{item:e,card:f},e.id)}))})]}),f.checklists&&f.checklists.map((function(e,t){return Object(T.jsx)(Ee,{checklist:e,index:t,onCheckListChange:function(e,t){b("checklists",D.a.setIn(f.checklists,"[".concat(t,"]"),e))},onRemoveCheckList:function(){b("checklists",D.a.reject(f.checklists,{id:e.id}))}},e.id)})),Object(T.jsxs)("div",{className:"mb-24",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"comment"}),Object(T.jsx)(Y.a,{className:"font-semibold text-16 mx-8",children:"Comment"})]}),Object(T.jsx)("div",{children:Object(T.jsx)(_e,{members:n.members,onCommentAdd:function(e){return b("activities",[e].concat(Object(je.a)(f.activities)))}})})]}),Object(T.jsx)(w.a,{name:"activities",control:o,defaultValue:[],render:function(e){var t=e.field,a=(t.onChange,t.value);return Object(T.jsx)("div",{children:a.length>0&&Object(T.jsxs)("div",{className:"mb-24",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"list"}),Object(T.jsx)(Y.a,{className:"font-semibold text-16 mx-8",children:"Activity"})]}),Object(T.jsx)(he.a,{className:"",children:a.map((function(e){return Object(T.jsx)(Ce,{item:e,members:n.members},e.id)}))})]})})}})]})]}):null},Qe=Object(d.a)((function(e){return{paper:{color:e.palette.text.primary}}}));var Xe=function(e){var t=Object(x.c)(),a=Object(x.d)((function(e){return e.scrumboardApp.card.dialogOpen})),n=Qe(e);return Object(T.jsx)(be.a,{classes:{paper:Object(j.a)(n.paper,"max-w-lg w-full m-24")},onClose:function(e){return t(Object(Z.a)())},open:a,children:Object(T.jsx)(Ke,{})})},Ze=a(1110),$e=a(1093);var et=function(e){var t=Object(x.c)(),a=Object(x.d)((function(e){return e.scrumboardApp.board}));return Object(T.jsxs)("div",{children:[Object(T.jsx)(r.a,{position:"static",children:Object(T.jsx)(u.a,{className:"flex w-full justify-center",children:"Settings"})}),Object(T.jsxs)(he.a,{className:"py-16",dense:!0,children:[Object(T.jsxs)(ve.a,{button:!0,onClick:function(){return t(Object(g.a)({cardCoverImages:!a.settings.cardCoverImages}))},children:[Object(T.jsx)(te.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"photo"})}),Object(T.jsx)(ae.a,{primary:"Card Cover Images"}),Object(T.jsx)(Ze.a,{children:Object(T.jsx)($e.a,{onChange:function(){return t(Object(g.a)({cardCoverImages:!a.settings.cardCoverImages}))},checked:a.settings.cardCoverImages})})]}),Object(T.jsxs)(ve.a,{button:!0,onClick:function(){return t(Object(g.a)({subscribed:!a.settings.subscribed}))},children:[Object(T.jsx)(te.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"remove_red_eye"})}),Object(T.jsx)(ae.a,{primary:"Subscribe"}),Object(T.jsx)(Ze.a,{children:Object(T.jsx)($e.a,{onChange:function(){return t(Object(g.a)({subscribed:!a.settings.subscribed}))},checked:a.settings.subscribed})})]}),Object(T.jsxs)(ve.a,{button:!0,onClick:function(){return t(Object(g.b)(a))},children:[Object(T.jsx)(te.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"file_copy"})}),Object(T.jsx)(ae.a,{primary:"Copy Board"})]}),Object(T.jsxs)(ve.a,{button:!0,onClick:function(){return t(Object(g.d)(a.id))},children:[Object(T.jsx)(te.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"delete"})}),Object(T.jsx)(ae.a,{primary:"Delete Board"})]})]})]})},tt=Object(d.a)((function(e){return{"@global":{"#fuse-main":{height:"100vh"}}}}));t.default=Object(b.a)("scrumboardApp",v.a)(Object(O.k)((function(e){tt(e);var t=Object(x.c)(),a=Object(x.d)((function(e){return e.scrumboardApp.board})),d=Object(O.j)(),b=Object(m.useRef)(null),v=Object(m.useState)(!1),N=Object(n.a)(v,2),w=N[0],C=N[1];function y(e){C(void 0===e?!w:e)}return Object(p.b)((function(){return t(Object(g.e)(d)),function(){t(Object(g.m)())}}),[t,d]),a?Object(T.jsxs)("div",{className:"flex flex-1 flex-auto flex-col w-full h-full relative",ref:b,children:[Object(T.jsx)(r.a,{position:"static",color:"primary",elevation:0,children:Object(T.jsxs)(u.a,{className:"flex items-center justify-between px-4 sm:px-24 h-48 sm:h-64 sm:h-96 container",children:[Object(T.jsx)(s.a,{xsDown:!0,children:Object(T.jsxs)(c.a,{to:"/apps/scrumboard/boards/",component:h.a,variant:"contained",color:"secondary",children:[Object(T.jsx)(i.a,{children:"assessment"}),Object(T.jsx)("span",{className:"px-8",children:"Boards"})]})}),Object(T.jsx)(s.a,{smUp:!0,children:Object(T.jsx)(l.a,{color:"inherit",to:"/apps/scrumboard/boards/",component:h.a,children:Object(T.jsx)(i.a,{children:"assessment"})})}),Object(T.jsx)("div",{className:"flex flex-1 justify-center items-center",children:Object(T.jsx)(ue,{})}),Object(T.jsx)(l.a,{color:"inherit",onClick:function(){return y(!0)},children:Object(T.jsx)(i.a,{children:"settings"})})]})}),Object(T.jsx)("div",{className:Object(j.a)("flex flex-1 overflow-x-auto overflow-y-hidden"),children:Object(T.jsx)(f.a,{onDragEnd:function(e){var a=e.source,n=e.destination;n&&(a.droppableId===n.droppableId&&a.index===n.index||("list"===e.type&&t(Object(g.l)(e)),"card"===e.type&&t(Object(g.k)(e))))},children:Object(T.jsx)(f.c,{droppableId:"list",type:"list",direction:"horizontal",children:function(e){return Object(T.jsxs)("div",{ref:e.innerRef,className:"flex container py-16 md:py-24 px-8 md:px-12",children:[a.lists.map((function(e,t){return Object(T.jsx)(le,{list:e,index:t},e.id)})),e.placeholder,Object(T.jsx)(E,{})]})}})})}),Object(T.jsx)(o.a,{anchor:"right",className:"absolute overflow-hidden",classes:{paper:"absolute w-320"},BackdropProps:{classes:{root:"absolute"}},container:b.current,ModalProps:{keepMounted:!0},open:w,onOpen:function(e){},onClose:function(){return y(!1)},disableSwipeToOpen:!0,children:Object(T.jsx)(et,{})}),Object(T.jsx)(Xe,{})]}):null})))}}]);